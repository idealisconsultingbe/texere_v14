<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- handling company -->
    <template id="coa_company_external_layout">
        <t t-if="not o" t-set="o" t-value="doc"/>
        <t t-if="not company">
            <!-- Multicompany -->
            <t t-if="company_id">
                <t t-set="company" t-value="company_id"/>
            </t>
            <t t-elif="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id.sudo()"/>
            </t>
            <t t-else="else">
                <t t-set="company" t-value="res_company"/>
            </t>
        </t>
        <t t-call="coa_management.coa_external_layout"><t t-raw="0"/></t>
    </template>

    <!-- external layout structure -->
    <template id="coa_external_layout">
        <div t-attf-class="header o_company_#{company.id}_layout" style="font-size: small;">
            <div class="col-12">
                <table class="coa-table bbr-gray">
                    <tbody>
                        <tr>
                            <td rowspan="3" class="text-center v-align-middle" width="25%">
                                <img src="/coa_management/static/src/img/texere_logo.jpg" style="max-height: 2.5rem;" alt="Texere Logo"/>
                            </td>
                            <td rowspan="3" class="v-align-middle prl-1" width="50%">
                                <h1 class="text-center fs-15-rem">Reagents and Consumables reception and release form</h1>
                            </td>
                            <td class="pl-05" width="25%">OP.1.2_FOR_005/03</td>
                        </tr>
                        <tr>
                            <td class="pl-05">Effective date: missing</td>
                        </tr>
                        <tr>
                            <td class="pl-05">Expiration date: missing</td>
                        </tr>
                        <tr>
                            <td class="text-center">Print: <span t-esc="datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')"/></td>
                            <td class="text-center">Confidential</td>
                            <td class="pl-05">Page <span class="page"/> / <span class="topage"/></td>
                        </tr>
                    </tbody>
                </table>

                <table class="coa-table pl-05 th-gray bbr-gray" style="margin-top: 1rem;">
                    <tbody>
                        <tr>
                            <th width="12.5%">Drafter</th>
                            <td width="12.5%"></td>
                            <th width="12.5%">Reviewer</th>
                            <td width="12.5%"></td>
                            <td width="12.5%"></td>
                            <td width="12.5%"></td>
                            <th width="12.5%">Approver</th>
                            <td width="12.5%"></td>
                        </tr>
                        <tr>
                            <th>Training</th>
                            <td></td>
                            <th>Training</th>
                            <td></td>
                            <td></td>
                            <td></td>
                            <th>Training</th>
                            <td></td>
                        </tr>
                        <tr>
                            <th>Date</th>
                            <td></td>
                            <th>Date</th>
                            <td></td>
                            <td></td>
                            <td></td>
                            <th>Date</th>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div t-attf-class="article o_company_#{company.id}_layout" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-raw="0"/>
        </div>
    </template>

</odoo>
